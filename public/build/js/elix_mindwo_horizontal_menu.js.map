{"version":3,"sources":["horizontal_menu.js","horizontal_form_ui.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"elix_mindwo_horizontal_menu.js","sourcesContent":["/**\r\n * JavaScript logic for horizontal menu UI\r\n * \r\n * @type _L4.Anonym$0|Function\r\n */\r\nvar HMenuUI = function()\r\n{    \r\n        /**\r\n     * Izceļ aktivizēto izvēlni (jo cache glabājas sākotnējais izcēlums - to noņemam)\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var setActiveMenu = function() {      \r\n        $(\".dx-main-menu li\").removeClass(\"active\");\r\n\r\n        var active_item = $('.dx-main-menu li a[href=\"' + window.location.href + '\"]');\r\n        \r\n        if (active_item.length == 0) {\r\n            return; // nav ielādēta lapa no menu\r\n        }\r\n        \r\n        if (parseInt(active_item.attr(\"data-level\")) == 0) {\r\n          active_item.parent().addClass(\"active\");\r\n        }\r\n        else {\r\n            setActiveParentMenu(parseInt(active_item.attr(\"data-level\")), active_item.parent());\r\n        }\r\n        \r\n    };\r\n    \r\n    /**\r\n     * Rekursīvi aktivizē menu elementa vecākos elementus līdz pašam pirmajam līmenim\r\n     * @param {integer} level Līmenis\r\n     * @param {object} elem Menu elements\r\n     * @returns {undefined}\r\n     */\r\n    var setActiveParentMenu = function(level, elem) {\r\n        \r\n        if (level == 0) {\r\n            elem.addClass(\"active\");\r\n            return;\r\n        }\r\n        else {\r\n            setActiveParentMenu(level-1, elem.parent().parent());\r\n        }  \r\n    };\r\n    \r\n    /**\r\n     * Repositionate page content and employees search pane\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var setContentMargin = function() {\r\n        \r\n        var menu_w = $(\".navbar-fixed-top\").outerWidth() - $(\"#dx-search-box-top-li\").outerWidth()-40;\r\n        \r\n        $(\".dx-main-menu\").css(\"max-width\", menu_w + \"px\");\r\n        \r\n        var height = $(\".navbar-fixed-top\").outerHeight() + \"px\";\r\n        \r\n        $(\".dx-page-container\").css(\"margin-top\", height);\r\n        \r\n        $(\".dx-employees-quick\").css(\"top\", height, \"important\");\r\n        \r\n    };\r\n    \r\n    /**\r\n     * Hide images not loaded\r\n     * @returns {undefined}\r\n     */\r\n    var hideErrorImages = function() {\r\n        $(\"img\").error(function () { \r\n            $(this).hide();\r\n            setContentMargin();\r\n        });  \r\n    };\r\n    \r\n    /**\r\n     * Stick menu on scrolling\r\n     * @returns {undefined}\r\n     */\r\n    var handleScroll = function () {\r\n        \r\n        $(document).scroll(function() {\r\n            var top = $(window).scrollTop();\r\n            if (top > 50) {\r\n                $(\".dx-top-menu\").removeClass(\"dx-nonfixed-top\").addClass(\"navbar-fixed-top\");\r\n                $(\".dx-page-container\").css('margin-top', '50px');\r\n                $(\".dx-form-header\").addClass(\"dx-nonfixed-header\");\r\n            } else {\r\n                $(\".dx-top-menu\").removeClass(\"navbar-fixed-top\").addClass(\"dx-nonfixed-top\");\r\n                $(\".dx-page-container\").css('margin-top', '0px');\r\n                $(\".dx-form-header\").removeClass(\"dx-nonfixed-header\");\r\n            }\r\n        });\r\n    };\r\n    \r\n    \r\n    /**\r\n     * Inits horizontal menu page UI\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var initUI = function() {\r\n       hideErrorImages(); \r\n       setActiveMenu();\r\n       setContentMargin();\r\n       handleScroll();\r\n       PageMain.addResizeCallback(setContentMargin); \r\n    };\r\n\r\n    return {\r\n        init: function() {\r\n            initUI();\r\n        }\r\n    };\r\n}();\r\n\r\n$(document).ready(function() {\r\n    HMenuUI.init();\r\n});","/**\n * JavaScript logic for horizontal menu forms UI\n * \n * @type _L4.Anonym$0|Function\n */\nvar HFormUI = function()\n{ \n    var handleFormClose = function(grid_id) {\n        $(\".dx-form-fullscreen-frame .dx-form-close-btn\").click(function() {\n            $(\"#td_form_data\").html(\"\");\n            $(\"#td_data\").show();\n            stop_executing(grid_id);\n        });\n    };\n    \n    /**\n     * Inits horizontal menu page UI\n     * \n     * @returns {undefined}\n     */\n    var initUI = function(grid_id) {       \n       handleFormClose(grid_id);\n    };\n\n    return {\n        init: function(grid_id) {\n            initUI(grid_id);\n        }\n    };\n}();"]}