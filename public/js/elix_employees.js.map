{"version":3,"sources":["jquery.simulate.js","search_tools.js","employees.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"elix_employees.js","sourcesContent":["/*\r\n * jquery.simulate - simulate browser mouse and keyboard events\r\n *\r\n * Copyright (c) 2009 Eduardo Lundgren (eduardolundgren@gmail.com)\r\n * and Richard D. Worth (rdworth@gmail.com)\r\n *\r\n * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) \r\n * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.\r\n *\r\n */\r\n\r\n;(function($) {\r\n\r\n$.fn.extend({\r\n\tsimulate: function(type, options) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar opt = $.extend({}, $.simulate.defaults, options || {});\r\n\t\t\tnew $.simulate(this, type, opt);\r\n\t\t});\r\n\t}\r\n});\r\n\r\n$.simulate = function(el, type, options) {\r\n\tthis.target = el;\r\n\tthis.options = options;\r\n\r\n\tif (/^drag$/.test(type)) {\r\n\t\tthis[type].apply(this, [this.target, options]);\r\n\t} else {\r\n\t\tthis.simulateEvent(el, type, options);\r\n\t}\r\n};\r\n\r\n$.extend($.simulate.prototype, {\r\n\tsimulateEvent: function(el, type, options) {\r\n\t\tvar evt = this.createEvent(type, options);\r\n\t\tthis.dispatchEvent(el, type, evt, options);\r\n\t\treturn evt;\r\n\t},\r\n\tcreateEvent: function(type, options) {\r\n\t\tif (/^mouse(over|out|down|up|move)|(dbl)?click$/.test(type)) {\r\n\t\t\treturn this.mouseEvent(type, options);\r\n\t\t} else if (/^key(up|down|press)$/.test(type)) {\r\n\t\t\treturn this.keyboardEvent(type, options);\r\n\t\t}\r\n\t},\r\n\tmouseEvent: function(type, options) {\r\n\t\tvar evt;\r\n\t\tvar e = $.extend({\r\n\t\t\tbubbles: true, cancelable: (type != \"mousemove\"), view: window, detail: 0,\r\n\t\t\tscreenX: 0, screenY: 0, clientX: 0, clientY: 0,\r\n\t\t\tctrlKey: false, altKey: false, shiftKey: false, metaKey: false,\r\n\t\t\tbutton: 0, relatedTarget: undefined\r\n\t\t}, options);\r\n\r\n\t\tvar relatedTarget = $(e.relatedTarget)[0];\r\n\r\n\t\tif ($.isFunction(document.createEvent)) {\r\n\t\t\tevt = document.createEvent(\"MouseEvents\");\r\n\t\t\tevt.initMouseEvent(type, e.bubbles, e.cancelable, e.view, e.detail,\r\n\t\t\t\te.screenX, e.screenY, e.clientX, e.clientY,\r\n\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\r\n\t\t\t\te.button, e.relatedTarget || document.body.parentNode);\r\n\t\t} else if (document.createEventObject) {\r\n\t\t\tevt = document.createEventObject();\r\n\t\t\t$.extend(evt, e);\r\n\t\t\tevt.button = { 0:1, 1:4, 2:2 }[evt.button] || evt.button;\r\n\t\t}\r\n\t\treturn evt;\r\n\t},\r\n\tkeyboardEvent: function(type, options) {\r\n\t\tvar evt;\r\n\r\n\t\tvar e = $.extend({ bubbles: true, cancelable: true, view: window,\r\n\t\t\tctrlKey: false, altKey: false, shiftKey: false, metaKey: false,\r\n\t\t\tkeyCode: 0, charCode: 0\r\n\t\t}, options);\r\n\r\n\t\tif ($.isFunction(document.createEvent)) {\r\n\t\t\ttry {\r\n\t\t\t\tevt = document.createEvent(\"KeyEvents\");\r\n\t\t\t\tevt.initKeyEvent(type, e.bubbles, e.cancelable, e.view,\r\n\t\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\r\n\t\t\t\t\te.keyCode, e.charCode);\r\n\t\t\t} catch(err) {\r\n\t\t\t\tevt = document.createEvent(\"Events\");\r\n\t\t\t\tevt.initEvent(type, e.bubbles, e.cancelable);\r\n\t\t\t\t$.extend(evt, { view: e.view,\r\n\t\t\t\t\tctrlKey: e.ctrlKey, altKey: e.altKey, shiftKey: e.shiftKey, metaKey: e.metaKey,\r\n\t\t\t\t\tkeyCode: e.keyCode, charCode: e.charCode\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if (document.createEventObject) {\r\n\t\t\tevt = document.createEventObject();\r\n\t\t\t$.extend(evt, e);\r\n\t\t}\r\n\t\tif (($.browser !== undefined) && ($.browser.msie || $.browser.opera)) {\r\n\t\t\tevt.keyCode = (e.charCode > 0) ? e.charCode : e.keyCode;\r\n\t\t\tevt.charCode = undefined;\r\n\t\t}\r\n\t\treturn evt;\r\n\t},\r\n\r\n\tdispatchEvent: function(el, type, evt) {\r\n\t\tif (el.dispatchEvent) {\r\n\t\t\tel.dispatchEvent(evt);\r\n\t\t} else if (el.fireEvent) {\r\n\t\t\tel.fireEvent('on' + type, evt);\r\n\t\t}\r\n\t\treturn evt;\r\n\t},\r\n\r\n\tdrag: function(el) {\r\n\t\tvar self = this, center = this.findCenter(this.target), \r\n\t\t\toptions = this.options,\tx = Math.floor(center.x), y = Math.floor(center.y), \r\n\t\t\tdx = options.dx || 0, dy = options.dy || 0, target = this.target;\r\n\t\tvar coord = { clientX: x, clientY: y };\r\n\t\tthis.simulateEvent(target, \"mousedown\", coord);\r\n\t\tcoord = { clientX: x + 1, clientY: y + 1 };\r\n\t\tthis.simulateEvent(document, \"mousemove\", coord);\r\n\t\tcoord = { clientX: x + dx, clientY: y + dy };\r\n\t\tthis.simulateEvent(document, \"mousemove\", coord);\r\n\t\tthis.simulateEvent(document, \"mousemove\", coord);\r\n\t\tthis.simulateEvent(target, \"mouseup\", coord);\r\n\t},\r\n\tfindCenter: function(el) {\r\n\t\tvar el = $(this.target), o = el.offset();\r\n\t\treturn {\r\n\t\t\tx: o.left + el.outerWidth() / 2,\r\n\t\t\ty: o.top + el.outerHeight() / 2\r\n\t\t};\r\n\t}\r\n});\r\n\r\n$.extend($.simulate, {\r\n\tdefaults: {\r\n\t\tspeed: 'sync'\r\n\t},\r\n\tVK_TAB: 9,\r\n\tVK_ENTER: 13,\r\n\tVK_ESC: 27,\r\n\tVK_PGUP: 33,\r\n\tVK_PGDN: 34,\r\n\tVK_END: 35,\r\n\tVK_HOME: 36,\r\n\tVK_LEFT: 37,\r\n\tVK_UP: 38,\r\n\tVK_RIGHT: 39,\r\n\tVK_DOWN: 40\r\n});\r\n\r\n})(jQuery);","/**\r\n * Meklēšanas rīku pogas JavaScript funkcionalitāte\r\n * \r\n * @type _L4.Anonym$0|Function\r\n */\r\nvar SearchTools = function()\r\n{    \r\n    /**\r\n     * Meklēšanas rīku HTML formas elements\r\n     * \r\n     * @type Object\r\n     */\r\n    var form_elem = null;\r\n    \r\n    /**\r\n     * Funkcija, kas parāda vai paslēp saiti \"Notīrīt\"\r\n     * Funkcija tiek uzstādīta pie meklēšanas rīku inicializēšanas\r\n     * \r\n     * @type Function\r\n     */\r\n    var clearLinkShowHide = null;\r\n    \r\n    /**\r\n     * Funkcija, kas notīra meklēšanas lauku vērtības.\r\n     * Funkcija tiek uzstādīta pie meklēšanas rīku inicializēšanas\r\n     * \r\n     * @type Function\r\n     */\r\n    var clearFields = null;\r\n    \r\n    /**\r\n     * Parāda vai paslēp meklēšanas rīkus\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var showHideTools = function() {\r\n\r\n        var tools_btn = form_elem.find('.search-tools-btn');\r\n\r\n        if (tools_btn.find('i').hasClass('fa-caret-down'))\r\n        {\r\n            tools_btn.find('i').removeClass('fa-caret-down').addClass('fa-caret-up');\r\n            tools_btn.removeClass('btn-primary').addClass('btn-default');\r\n            form_elem.removeClass('search-tools-hiden').addClass('search-tools-shown');\r\n        }\r\n        else\r\n        {\r\n            tools_btn.find('i').removeClass('fa-caret-up').addClass('fa-caret-down');\r\n            tools_btn.removeClass('btn-default').addClass('btn-primary');\r\n\r\n            form_elem.removeClass('search-tools-shown').addClass('search-tools-hiden');\r\n\r\n            var phrase = form_elem.find('input[name=criteria]').val();\r\n            \r\n            clearFields();\r\n            \r\n            form_elem.find('input[name=criteria]').val(phrase);\r\n            \r\n            clearLinkShowHide();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Nodrošina meklēšanas pogas nospiešanas funkcionalitāti - veic meklēšanu\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var handleBtnSearch = function() {\r\n        form_elem.find(\".search-simple-btn\").click(function(e) {\r\n            \r\n            show_page_splash();\r\n            form_elem.submit();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Nodrošina meklēšanas rīku pogas nospiešanas funkcionalitāti - parāda vai paslēpj meklēšanas rīkus\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var handleBtnTools = function() {\r\n        form_elem.find('.search-tools-btn').click(function(e) {\r\n            showHideTools();\r\n        });\r\n    }; \r\n    \r\n    /**\r\n     * Inicializē meklēšanas rīku JavaScript funkcionalitāti\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var initTools = function(callback_clearLinkShowHide, callback_clearFields) {        \r\n\r\n        form_elem = $('.search-tools-form');\r\n        \r\n        clearLinkShowHide = callback_clearLinkShowHide;\r\n        clearFields = callback_clearFields;\r\n        \r\n        handleBtnSearch();\r\n        handleBtnTools();\r\n    };\r\n\r\n    return {\r\n        init: function(callback_clearLinkShowHide, callback_clearFields) {\r\n            initTools(callback_clearLinkShowHide, callback_clearFields);\r\n        },\r\n        showHideTools: function() {\r\n            showHideTools();\r\n        }\r\n    };\r\n}();\r\n","/**\r\n * Darbinieku meklēšanas lapas JavaScript funkcionalitāte\r\n * \r\n * @type _L4.Anonym$0|Function\r\n */\r\nvar PageEmployees = function()\r\n{ \r\n    /**\r\n     * Meklēšanas rīku HTML formas elements\r\n     * \r\n     * @type Object\r\n     */\r\n    var form_elem = null;\r\n    \r\n    /**\r\n     * Darbinieku meklēšanas bloka HTML elements\r\n     * \r\n     * @type type\r\n     */\r\n    var page_elem = null;\r\n    \r\n    /**\r\n     * Atgriež elementa vērtību. Ja elements nav atrasts, tad noklusēto vērtību\r\n     * \r\n     * @param {Object} parent_elem Vecākais elements, kurā tiks veikta meklēšana\r\n     * @param {string} selector    Meklējamais elements\r\n     * @param {mixed} default_val  Noklusētā vērtība\r\n     * @returns {mixed}\r\n     */\r\n    var getElementVal = function(parent_elem, selector, default_val) {\r\n        var elem = parent_elem.find(selector);\r\n\r\n        if (!elem.length)\r\n        {\r\n            return default_val;\r\n        }\r\n\r\n        return elem.val();\r\n    };\r\n\r\n    /**\r\n     * Parāda vai paslēpj brīdinājumu, ka jānorāda uzņēmums, lai izvēlētos sturktūrvienību\r\n     * \r\n     * @param {Object} page_elem Lapas elements\r\n     * @returns {undefined}\r\n     */\r\n    var showHideWarning = function(){\r\n        var btn_choose = page_elem.find(\".dx-tree-value-choose-btn\");\r\n        \r\n        if (getElementVal(page_elem, 'select[name=source_id]', 0) > 0){\r\n            // noņemam brīdinājumu, ja bija uzstādīts            \r\n            if (btn_choose.hasClass('tooltipstered')) {\r\n                btn_choose.tooltipster('disable');\r\n            }            \r\n        }\r\n        else{             \r\n            if (!btn_choose.hasClass('tooltipstered')) {\r\n                // uzstādam brīdinājumu pirmo reizi\r\n                btn_choose.tooltipster({\r\n                    theme: 'tooltipster-light',\r\n                    animation: 'grow',\r\n                    content: page_elem.attr(\"trans_unit_hint\")\r\n                });\r\n            }\r\n            else\r\n            {\r\n                // iespjojam jau uzstādītu brīdinājumu\r\n                btn_choose.tooltipster('enable');\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Parāda vai paslēpj saiti \"Notīrīt kritērijus\" atkarība ir vai nav norādīts vismaz viens kritērijis\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var clearLinkShowHide = function() {\r\n        if (\r\n                getElementVal(page_elem, 'select[name=source_id]', 0) > 0 ||\r\n                getElementVal(page_elem, 'input[name=department]', \"\") ||\r\n                getElementVal(page_elem, 'input[name=criteria]', \"\") ||\r\n                getElementVal(page_elem, 'input[name=phone]', \"\") ||\r\n                getElementVal(page_elem, 'input[name=position]', \"\")\r\n                )\r\n        {\r\n            page_elem.find(\".dx-clear-link\").show();\r\n        }\r\n        else\r\n        {\r\n            page_elem.find(\".dx-clear-link\").hide();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Notīra meklēšanas kritēriju lauku vērtības\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var clearFields = function() {\r\n        form_elem.find('input[name=criteria]').val('');\r\n        form_elem.find('select[name=source_id]').val(0);\r\n        form_elem.find('input[name=department]').val('');\r\n        form_elem.find('input[name=position]').val('');\r\n        form_elem.find('input[name=phone]').val('');\r\n        form_elem.find('input[name=department_id]').val(0);\r\n        \r\n        // uzstāda brdīdinājumu, ka nav norādīts uzņēmums (nevar izvēlēties struktūrvienību)\r\n        showHideWarning();\r\n    };\r\n\r\n    /**\r\n     * Nodrošina struktūrvienību izvēlnes loga popup atvēršanu\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var handleDepartmentChoose = function() {\r\n        page_elem.find(\".dx-tree-value-choose-btn\").click(function(e) {\r\n\r\n            var company_id = page_elem.find(\"select[name=source_id]\").val();\r\n\r\n            if (company_id == 0)\r\n            {\r\n                page_elem.find(\"select[name=source_id]\").focus();\r\n                page_elem.find(\"select[name=source_id]\").simulate('mousedown');\r\n                return;\r\n            }\r\n\r\n            get_popup_item_by_id_ie9(company_id, 'ajax/departments', page_elem.find(\"select[name=source_id] option:selected\").text() + ' - ' + page_elem.attr(\"trans_choosing_unit\"), initTree);\r\n        });\r\n        \r\n        // uzstāda deparamenta id uz 0, gadījumā ja manuāli rediģē departamenta teksta lauku\r\n        page_elem.find(\"input[name=department]\").change(function(e) {\r\n           page_elem.find('input[name=department_id]').val(0); \r\n        });\r\n    };\r\n\r\n    /**\r\n     * Nodrošina struktūrvienības lauka notīrīšanu\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var handleDepartmentClear = function() {\r\n        page_elem.find(\".dx-tree-value-clear-btn\").click(function(e) {\r\n            page_elem.find(\"input[name=department]\").val('');\r\n            page_elem.find(\"input[name=department_id]\").val(0);\r\n            clearLinkShowHide(page_elem);\r\n        });\r\n    };\r\n   \r\n    /**\r\n     * Nodrošina saites \"Notīrīt\" funkcionalitāti - dzēš formas lauku vērtības\r\n     *\r\n     * @returns {undefined}\r\n     */\r\n    var handleLinkClear = function() {\r\n        page_elem.find(\".dx-clear-link\").click(function() {\r\n            clearFields();\r\n            clearLinkShowHide();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Inicializē vērtību notīrīšanas saites parādīšanu/paslēpšanu, mainoties formas lauku vērtībām\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var handleValueChange = function() {\r\n        form_elem.find(\"input\").keyup(function() {\r\n            clearLinkShowHide();\r\n        });\r\n\r\n        form_elem.find(\"select\").change(function() {\r\n            clearLinkShowHide();\r\n        });\r\n    };\r\n    \r\n    /**\r\n     * Nodrošina brīdinajuma uzstādīšanu/paslēpšanu, atkarībā vai norādīts uzņēmums\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var handleSourceChange = function(){\r\n        form_elem.find(\"select[name=source_id]\").change(function() {\r\n            showHideWarning();\r\n        });       \r\n    };\r\n    \r\n    /**\r\n     * Handles new employee button click - opens form for new employee entering\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var handleNewEmployeeBtn = function() {\r\n        page_elem.find(\".dx-employee-new-add-btn\").click(function() {\r\n            new_list_item(page_elem.attr(\"dx_empl_list_id\"), 0, 0, \"\", \"\");\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Inicializē meklēšnas rīku parādīšanu pie lapas ielādes - parāda, ja bija meklēšanas pēc kāda no redzamajiem formas laukiem\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var initSearchTools = function()\r\n    {\r\n        if (\r\n                getElementVal(page_elem, 'select[name=source_id]', 0) > 0 ||\r\n                getElementVal(page_elem, 'input[name=department]', \"\") ||\r\n                getElementVal(page_elem, 'input[name=phone]', \"\") ||\r\n                getElementVal(page_elem, 'input[name=position]')\r\n                )\r\n        {\r\n            SearchTools.showHideTools();\r\n        }\r\n    };\r\n    \r\n    /**\r\n     * Inicializē darbinieku lapas JavaScript funkcionalitāti\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var initPage = function() {        \r\n        \r\n        page_elem = $(\".dx-employees-page\");\r\n        form_elem = page_elem.find('.search-tools-form');\r\n        \r\n        SearchTools.init(clearLinkShowHide, clearFields);\r\n                \r\n        handleDepartmentChoose();\r\n        handleDepartmentClear();\r\n\r\n        EmployeesLinks.init(page_elem, clearFields);\r\n\r\n        handleValueChange();\r\n        handleLinkClear();\r\n        handleSourceChange();\r\n\r\n        clearLinkShowHide();\r\n        initSearchTools();\r\n        showHideWarning();\r\n        handleNewEmployeeBtn();\r\n    };\r\n\r\n    /**\r\n     * Inicializē struktūrvienību koku\r\n     * \r\n     * @returns {undefined}\r\n     */\r\n    var initTree = function() {        \r\n        $(\".dx-department-tree-container\").on('select_node.jstree', function (e, data) {\r\n            var i, j;\r\n            for(i = 0, j = data.selected.length; i < j; i++) {\r\n                var node = data.instance.get_node(data.selected[i], true);\r\n                \r\n                $(\".dx-employees-page input[name=department]\").val(node.text());\r\n                $(\".dx-employees-page input[name=department_id]\").val(node.attr(\"data-id\"));\r\n                $( '#popup_window' ).modal('hide');\r\n                break;\r\n            }\r\n            \r\n        }).jstree({\r\n            \"core\" : {\"multiple\" : false },\r\n            \r\n        });\r\n    };\r\n\r\n    return {\r\n        init: function() {\r\n            initPage();\r\n        },\r\n        initTree: function() {\r\n            initTree();\r\n        }\r\n    };\r\n}();\r\n\r\n$(document).ready(function() {\r\n    PageEmployees.init();\r\n});\r\n\r\n$(document).ajaxComplete(function(event, xhr, settings) {\r\n    PageEmployees.initTree();\r\n});"],"sourceRoot":"/source/"}