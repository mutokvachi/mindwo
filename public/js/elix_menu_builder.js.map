{"version":3,"sources":["menu_builder.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"elix_menu_builder.js","sourcesContent":["(function($)\n{\n\t/**\n\t * MenuBuilder - a jQuery plugin that renders menu drag & drop building UI\n\t *\n\t * @param root\n\t * @returns {*}\n\t * @constructor\n\t */\n\t$.fn.MenuBuilder = function(opts)\n\t{\n\t\tvar options = $.extend({}, $.fn.MenuBuilder.defaults, opts);\n\t\treturn this.each(function()\n\t\t{\n\t\t\tnew $.MenuBuilder(this, options);\n\t\t});\n\t};\n\t\n\t$.fn.MenuBuilder.defaults = {\n\t};\n\t\n\t/**\n\t * MenuBuilder constructor\n\t *\n\t * @param root\n\t * @constructor\n\t */\n\t$.MenuBuilder = function(root, opts)\n\t{\n            $.data(root, 'MenuBuilder', this);\n            var self = this;\n            this.options = opts;\n            this.root = $(root);\n            this.nodes = this.root.find('.dd').nestable('serialize');\n            \n            this.root.find(\".dx-save-btn\").click(function() {\n                alert(\"Save to server: \" + self.nodes);\n            });\n            \n            var updateOutput = function (e) {\n                var list = e.length ? e : $(e.target);\n                if (window.JSON) {\n                    self.nodes = window.JSON.stringify(list.nestable('serialize'));\n                } else {\n                    notify_err('JSON browser support required!');\n                }\n            };\n            \n            this.root.find('.dd').nestable({\n                group: 1,\n                maxDepth: 5,\n                \n            }).on('change', updateOutput);\n\t};\n})(jQuery);"]}