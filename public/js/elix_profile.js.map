{"version":3,"sources":["freeform.js","inlineform.js","sticky.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"elix_profile.js","sourcesContent":["(function($)\n{\n\t/**\n\t * FreeForm - a jQuery plugin for working with arbitrary forms\n\t *\n\t * @param root\n\t * @returns {*}\n\t * @constructor\n\t */\n\t$.fn.FreeForm = function(root)\n\t{\n\t\treturn this.each(function()\n\t\t{\n\t\t\tnew $.FreeForm(this);\n\t\t});\n\t};\n\t\n\t/**\n\t * FreeForm constructor\n\t *\n\t * @param root\n\t * @constructor\n\t */\n\t$.FreeForm = function(root)\n\t{\n\t\t$.data(root, 'FreeForm', this);\n\t\tvar self = this;\n\t\tthis.root = $(root);\n\t\tthis.fields = $('[data-name]', this.root);\n\t\tthis.originalData = {};\n\t\tthis.editButton = $('.dx-edit-general', this.root);\n\t\tthis.saveButton = $('.dx-save-general', this.root);\n\t\tthis.cancelButton = $('.dx-cancel-general', this.root);\n\t\t\n\t\t// Bind callbacks to buttons\n\t\tthis.editButton.click(function()\n\t\t{\n\t\t\tself.edit();\n\t\t});\n\t\tthis.saveButton.click(function()\n\t\t{\n\t\t\tself.save();\n\t\t});\n\t\tthis.cancelButton.click(function()\n\t\t{\n\t\t\tself.cancel();\n\t\t});\n\t};\n\t\n\t/**\n\t * FreeForm methods\n\t */\n\t$.extend($.FreeForm.prototype, {\n\t\t/**\n\t\t * Replace HTML with form input fields\n\t\t */\n\t\tedit: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\t\n\t\t\t// a structure for JSON request\n\t\t\tvar request = {\n\t\t\t\tmodel: this.root.data('model'),\n\t\t\t\titem_id: this.root.data('item_id'),\n\t\t\t\tlist_id: this.root.data('list_id'),\n\t\t\t\tfields: []\n\t\t\t};\n\t\t\t\n\t\t\t// collect names of input fields marked with data-name attribute\n\t\t\tthis.fields.each(function()\n\t\t\t{\n\t\t\t\tself.originalData[$(this).data('name')] = $(this).html();\n\t\t\t\trequest.fields.push({\n\t\t\t\t\tname: $(this).data('name')\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tshow_page_splash(1);\n\t\t\t\n\t\t\t// perform a request to the server\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: DX_CORE.site_url + 'freeform/' + request.item_id + '/edit',\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: request,\n\t\t\t\tsuccess: function(data)\n\t\t\t\t{\n\t\t\t\t\tif(typeof data.success != \"undefined\" && data.success == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnotify_err(data.error);\n\t\t\t\t\t\thide_page_splash(1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tself.editButton.hide();\n\t\t\t\t\tself.saveButton.show();\n\t\t\t\t\tself.cancelButton.show();\n\t\t\t\t\t\n\t\t\t\t\t// replace original html content of marked elements with input fields\n\t\t\t\t\tfor(var i = 0; i < data.fields.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar name = data.fields[i].name;\n\t\t\t\t\t\tvar input = data.fields[i].input;\n\t\t\t\t\t\tvar elem = $('[data-name=\"' + name + '\"]', self.root);\n\t\t\t\t\t\tif(elem.length)\n\t\t\t\t\t\t\telem.html(input);\n\t\t\t\t\t}\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t},\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(textStatus);\n\t\t\t\t\tconsole.log(jqXHR);\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * Submit input field values to the server\n\t\t */\n\t\tsave: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\t\n\t\t\t// JSON structure\n\t\t\tvar request = {\n\t\t\t\tmodel: this.root.data('model'),\n\t\t\t\titem_id: this.root.data('item_id'),\n\t\t\t\tlist_id: this.root.data('list_id'),\n\t\t\t\tfields: []\n\t\t\t};\n\t\t\t\n\t\t\t// collect values of input fields\n\t\t\tthis.fields.each(function()\n\t\t\t{\n\t\t\t\trequest.fields.push({\n\t\t\t\t\tname: $(this).data('name'),\n\t\t\t\t\tdata: $(this).find('[name]').val()\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tshow_page_splash(1);\n\t\t\t\n\t\t\t// submit a request\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: DX_CORE.site_url + 'freeform/' + request.item_id + '?_method=PUT',\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: request,\n\t\t\t\tsuccess: function(data)\n\t\t\t\t{\n\t\t\t\t\tif(typeof data.success != \"undefined\" && data.success == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnotify_err(data.error);\n\t\t\t\t\t\thide_page_splash(1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tself.editButton.show();\n\t\t\t\t\tself.saveButton.hide();\n\t\t\t\t\tself.cancelButton.hide();\n\t\t\t\t\t\n\t\t\t\t\t// replace input fields with html data from server response\n\t\t\t\t\tfor(var i = 0; i < data.fields.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar name = data.fields[i].name;\n\t\t\t\t\t\tvar html = data.fields[i].html;\n\t\t\t\t\t\tvar elem = $('[data-name=\"' + name + '\"]', self.root);\n\t\t\t\t\t\tif(elem.length)\n\t\t\t\t\t\t\telem.html(html);\n\t\t\t\t\t}\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t},\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(textStatus);\n\t\t\t\t\tconsole.log(jqXHR);\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * Remove input fields and display original HTML\n\t\t */\n\t\tcancel: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tthis.editButton.show();\n\t\t\tthis.saveButton.hide();\n\t\t\tthis.cancelButton.hide();\n\t\t\tthis.fields.each(function()\n\t\t\t{\n\t\t\t\t$(this).html(self.originalData[$(this).data('name')]);\n\t\t\t});\n\t\t}\n\t});\n})(jQuery);","/**\n * Author:  Eugene Ostapenko <evo@olympsoft.com>\n * License: MIT\n * Created: 04.11.16, 19:33\n */\n(function($)\n{\n\t/**\n\t * InlineForm - a jQuery plugin that provides a way to work with AJAX form embedded into a page\n\t *\n\t * @param root\n\t * @returns {*}\n\t * @constructor\n\t */\n\t$.fn.InlineForm = function(opts)\n\t{\n\t\tvar options = $.extend({}, $.fn.InlineForm.defaults, opts);\n\t\treturn this.each(function()\n\t\t{\n\t\t\tnew $.InlineForm(this, options);\n\t\t});\n\t};\n\t\n\t$.fn.InlineForm.defaults = {\n\t\tbeforeSave: null,\n\t\tafterSave: null\n\t};\n\t\n\t/**\n\t * InlineForm constructor\n\t *\n\t * @param root\n\t * @constructor\n\t */\n\t$.InlineForm = function(root, opts)\n\t{\n\t\t$.data(root, 'InlineForm', this);\n\t\tvar self = this;\n\t\tthis.options = opts;\n\t\tthis.root = $(root);\n\t\tthis.tabs = $('.tab-pane', this.root);\n\t\tthis.originalTabs = {};\n\t\tthis.editButton = $('.dx-edit-profile', this.root);\n\t\tthis.saveButton = $('.dx-save-profile', this.root);\n\t\tthis.cancelButton = $('.dx-cancel-profile', this.root);\n\t\tthis.deleteButton = $('.dx-delete-profile', this.root);\n\t\tthis.stickyPanel = $('.profile-sticky', this.root);\n\t\t\n\t\t// Bind callbacks to buttons\n\t\tthis.editButton.click(function()\n\t\t{\n\t\t\tself.edit();\n\t\t});\n\t\tthis.saveButton.click(function()\n\t\t{\n\t\t\tself.save();\n\t\t});\n\t\tthis.cancelButton.click(function()\n\t\t{\n\t\t\tself.cancel();\n\t\t});\n\t\tthis.deleteButton.click(function()\n\t\t{\n\t\t\tself.destroy();\n\t\t});\n\t};\n\t\n\t/**\n\t * InlineForm methods\n\t */\n\t$.extend($.InlineForm.prototype, {\n\t\t/**\n\t\t * Replace HTML with form input fields\n\t\t */\n\t\tedit: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\t\n\t\t\t// a structure for JSON request\n\t\t\tvar request = {\n\t\t\t\tlist_id: this.root.data('list_id'),\n\t\t\t\ttab_list: []\n\t\t\t};\n\t\t\t\n\t\t\tthis.tabs.each(function()\n\t\t\t{\n\t\t\t\tself.originalTabs[$(this).data('tabTitle')] = $(this).html();\n\t\t\t});\n\t\t\t\n\t\t\tshow_page_splash(1);\n\t\t\t\n\t\t\t// perform a request to the server\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: DX_CORE.site_url + 'inlineform/' + this.root.data('item_id') + '/edit',\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: request,\n\t\t\t\tsuccess: function(data)\n\t\t\t\t{\n\t\t\t\t\tif(typeof data.success != \"undefined\" && data.success == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnotify_err(data.error);\n\t\t\t\t\t\thide_page_splash(1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tself.editButton.hide();\n\t\t\t\t\tself.stickyPanel.show(function()\n\t\t\t\t\t{\n\t\t\t\t\t\tself.stickyPanel.data('Sticky').init();\n\t\t\t\t\t\tself.stickyPanel.data('Sticky').update();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tvar tabs = $($.parseHTML('<div>' + data.tabs + '</div>')).find('.tab-pane');\n\t\t\t\t\t\n\t\t\t\t\t// replace original html content of marked elements with input fields\n\t\t\t\t\tfor(var i = 0; i < tabs.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar tab = $(tabs[i]);\n\t\t\t\t\t\tvar elem = $('[data-tab-title=\"' + tab.data('tabTitle') + '\"]', self.root);\n\t\t\t\t\t\tif(elem.length)\n\t\t\t\t\t\t\telem.html(tab.html());\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t},\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(textStatus);\n\t\t\t\t\tconsole.log(jqXHR);\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * Submit input field values to the server\n\t\t */\n\t\tsave: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tvar formData = process_data_fields(this.root.attr('id'));\n\t\t\tformData.append('item_id', this.root.data('item_id'));\n\t\t\tformData.append('list_id', this.root.data('list_id'));\n\t\t\tformData.append('edit_form_id', this.root.data('form_id'));\n\t\t\tformData.append('redirect_url', this.root.data('redirect_url'));\n\t\t\t\n\t\t\tvar url = DX_CORE.site_url + 'inlineform';\n\t\t\tif(this.root.data('mode') != 'create')\n\t\t\t{\n\t\t\t\turl += '/' + this.root.data('item_id') + '?_method=PUT';\n\t\t\t}\n\t\t\t\n\t\t\tshow_page_splash(1);\n\t\t\t\n\t\t\t// submit a request\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: url,\n\t\t\t\tdataType: 'json',\n\t\t\t\tprocessData: false,\n\t\t\t\tcontentType: false,\n\t\t\t\tdata: formData,\n\t\t\t\tsuccess: function(data)\n\t\t\t\t{\n\t\t\t\t\tif(typeof data.success != \"undefined\" && data.success == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnotify_err(data.error);\n\t\t\t\t\t\thide_page_splash(1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(self.root.data('mode') == 'create')\n\t\t\t\t\t{\n\t\t\t\t\t\twindow.location = data.redirect;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tself.editButton.show();\n\t\t\t\t\tself.stickyPanel.hide();\n\t\t\t\t\t\n\t\t\t\t\tvar tabs = $($.parseHTML('<div>' + data.tabs + '</div>')).find('.tab-pane');\n\t\t\t\t\t\n\t\t\t\t\t// replace original html content of marked elements with input fields\n\t\t\t\t\tfor(var i = 0; i < tabs.length; i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar tab = $(tabs[i]);\n\t\t\t\t\t\tvar elem = $('[data-tab-title=\"' + tab.data('tabTitle') + '\"]', self.root);\n\t\t\t\t\t\tif(elem.length)\n\t\t\t\t\t\t\telem.html(tab.html());\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(self.options.afterSave)\n\t\t\t\t\t{\n\t\t\t\t\t\tself.options.afterSave();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t},\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(textStatus);\n\t\t\t\t\tconsole.log(jqXHR);\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * Remove input fields and display original HTML\n\t\t */\n\t\tcancel: function()\n\t\t{\n\t\t\tthis.editButton.show();\n\t\t\tthis.stickyPanel.hide();\n\t\t\tfor(var k in this.originalTabs)\n\t\t\t{\n\t\t\t\tthis.tabs.filter('[data-tab-title=\"' + k + '\"]').html(this.originalTabs[k]);\n\t\t\t}\n\t\t},\n\t\t\n\t\tdestroy: function()\n\t\t{\n\t\t\tif(!confirm('Are you sure?'))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tvar request = {\n\t\t\t\tedit_form_id: this.root.data('form_id'),\n\t\t\t\titem_id: this.root.data('item_id')\n\t\t\t};\n\t\t\t\n\t\t\tshow_page_splash(1);\n\t\t\t\n\t\t\t$.ajax({\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: DX_CORE.site_url + 'inlineform/' + this.root.data('item_id') + '?_method=DELETE',\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: request,\n\t\t\t\tsuccess: function(data)\n\t\t\t\t{\n\t\t\t\t\tif(typeof data.success != \"undefined\" && data.success == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnotify_err(data.error);\n\t\t\t\t\t\thide_page_splash(1);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t\twindow.location = data.redirect;\n\t\t\t\t},\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(textStatus);\n\t\t\t\t\tconsole.log(jqXHR);\n\t\t\t\t\thide_page_splash(1);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(jQuery);","/**\n * Author:  Eugene Ostapenko <evo@olympsoft.com>\n * License: MIT\n * Created: 04.11.16, 19:38\n */\n(function($)\n{\n\t$.fn.Sticky = function(opts)\n\t{\n\t\tvar options = $.extend({}, $.Sticky.defaults, opts);\n\t\treturn this.each(function()\n\t\t{\n\t\t\tnew $.Sticky(this, options);\n\t\t});\n\t};\n\t\n\t$.Sticky = function(root, opts)\n\t{\n\t\t$.data(root, 'Sticky', this);\n\t\tvar self = this;\n\t\tthis.options = opts;\n\t\tthis.root = $(root);\n\t\tthis.placeholder = this.root.after('<div/>').next();\n\t\t\n\t\tthis.root.width(this.root.parent().width());\n\t\t\n\t\tthis.placeholder.css({\n\t\t\tposition: this.root.css('position'),\n\t\t\t'float': this.root.css('float'),\n\t\t\tdisplay: 'none'\n\t\t});\n\t\t\n\t\tthis.init();\n\t\tthis.update();\n\t\t\n\t\t$(window).resize(function()\n\t\t{\n\t\t\tself.init();\n\t\t\tself.update();\n\t\t});\n\t\t\n\t\t$(window).scroll(function()\n\t\t{\n\t\t\tself.init();\n\t\t\tself.update();\n\t\t});\n\t};\n\t\n\t$.Sticky.defaults = {\n\t\tside: 'top'\n\t};\n\t\n\t$.extend($.Sticky.prototype, {\n\t\tinit: function()\n\t\t{\n\t\t\tthis.placeholder.css({\n\t\t\t\twidth: this.root.outerWidth(),\n\t\t\t\theight: this.root.outerHeight()\n\t\t\t});\n\t\t\t\n\t\t\tif(this.options.side == 'top')\n\t\t\t{\n\t\t\t\tif(this.root.hasClass('stuck'))\n\t\t\t\t\tthis.top = this.placeholder.offset().top;\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t\tthis.top = this.root.offset().top;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(this.root.hasClass('stuck'))\n\t\t\t\t\tthis.top = this.placeholder.offset().top - this.placeholder.height();\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t\tthis.top = this.root.offset().top;\n\t\t\t}\n\t\t\t\n\t\t\tthis.height = this.root.outerHeight();\n\t\t},\n\t\t\n\t\tstick: function()\n\t\t{\n\t\t\tthis.root.addClass('stuck');\n\t\t\tthis.placeholder.css('display', this.root.css('display'));\n\t\t},\n\t\t\n\t\tunstick: function()\n\t\t{\n\t\t\tthis.root.removeClass('stuck');\n\t\t\tthis.placeholder.css('display', 'none');\n\t\t},\n\t\t\n\t\tupdate: function()\n\t\t{\n\t\t\tvar self = this;\n\t\t\tif(self.options.side == 'top')\n\t\t\t{\n\t\t\t\tif($(window).scrollTop() > self.top)\n\t\t\t\t\tself.stick();\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t\tself.unstick();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif($(window).scrollTop() + $(window).height() < self.top + self.height)\n\t\t\t\t\tself.stick();\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t\tself.unstick();\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);"]}